function validarSesion(){return token===null||token===undefined||token.length<=0?!0:!1}function mostrarModal(n,t){$("#modalCargando .modal-title").text(t);$("#"+n+"").modal({backdrop:"static",keyboard:!1})}function ocultarModal(n){$("#"+n+"").modal("hide")}function redirect(n){var i=navigator.userAgent.toLowerCase(),r=i.indexOf("msie")!==-1,u=parseInt(i.substr(4,2),10),t;r&&u<9?(t=document.createElement("a"),t.href=n,document.body.appendChild(t),t.click()):window.location.href=n}function AjaxError(n,t){ToastGlobal.fire({toast:!1,type:"error",title:"Estado: "+n.status,html:"<h5>"+AjaxMensajeError(n,t)+"<\/h5><\/br>",allowOutsideClick:!0});setTimeout(function(){redirect("Login.aspx")},6e3)}function AjaxMensajeError(n,t){return n.status===0?"No conectado.\n Por favor verifique su conexión de red.":n.status===404?"La página solicitada no se encuentra. [404]":n.status===500?"Error de Servidor Interno [500].":t==="parsererror"?"El análisis JSON solicitado falló.":t==="timeout"?"Error de tiempo de espera.":t==="abort"?"Solicitud de Ajax abortada.":"Error: \n"+n.responseText}function isNumber(n){n=n?n:window.event;var t=n.which?n.which:n.keyCode;return t>31&&t<48||t>57?!1:!0}function validateEmail(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function ValidarPaginaUsuario(){var n={};n.Usuario=login;n.Pagina=paginaLocal;$.ajax({type:"POST",url:apiUrl+"/api/Usuario/ValidarPermisosPagina",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"JSON",error:function(n,t,i){mensajeError=n.status+"\n"+n.responseText;"\n"+i;alertaErrorMin(mensajeError)},success:function(n){if(n===null)alert("No está autorizado para ingresar a la página: "+paginaLocal),paginaLocal===paginaInicio?redirect("Login.aspx"):redirect(paginaInicio);else{paginaPermisos=n.Permisos.split(",");$("body").css("visibility","visible");$("#nombreU").text(nombre);$("#iLateral").text(nombre);sessionStorage.getItem("Foto")!=="user.png"&&$(".Foto-usuario").attr("src","Images/Usuarios/"+sessionStorage.Foto);$("#btnSalir").on("click",function(){alertaSalir("Salir del Sistema","¿Desea Salir del Sistema?")})}}})}function ValidarPermisoCRUD(n){return jQuery.inArray(n,paginaPermisos)!==-1?!0:!1}function mensajeBloqueoToast(){ToastGlobal.fire({toast:!0,type:"warning",title:"ACCESO NO AUTORIZADO",html:"<h5>LA OPCIÓN ESTÁ BLOQUEADA.<\/h5>",timer:2e3})}function MostarLog(){console.log("Api             : "+apiUrl);console.log("Login           : "+login);console.log("Token           : "+token);console.log("Página Inicio   : "+paginaInicio);console.log("Página Local    : "+paginaLocal);console.log("Página Permisos : "+paginaPermisos)}var apiUrl=sessionStorage.getItem("Uri"),paginaInicio=sessionStorage.getItem("Pagina_ref"),token=sessionStorage.getItem("Token"),login=sessionStorage.getItem("Cedula"),nombre=sessionStorage.getItem("Nombre"),paginaLocal=window.location.pathname.replace("/",""),paginaPermisos="";const ToastGlobal=Swal.mixin({position:"center",showConfirmButton:!1});paginaLocal!=="Votaciones.aspx"?validarSesion()?redirect("Login.aspx"):ValidarPaginaUsuario():$("body").css("visibility","visible");$(document).ready(function(){$(document).on("click","#btnInicio",function(){redirect(paginaInicio)})});